language: c

sudo: false

matrix:
  include:
  - env:
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STATIC=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STATIC=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STACK=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STACK=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STATIC=1 STACK=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STATIC=1 STACK=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STATIC=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STATIC=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STATIC=1 STATIC=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STATIC=1 STATIC=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STACK=1 STATIC=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STACK=1 STATIC=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STATIC=1 STACK=1 STATIC=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STACK=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STACK=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STATIC=1 STACK=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STATIC=1 STACK=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STATIC=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STATIC=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-4.9
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-4.9
  - env:
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STATIC=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STATIC=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STACK=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STACK=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STATIC=1 STACK=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STATIC=1 STACK=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STATIC=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STATIC=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STATIC=1 STATIC=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STATIC=1 STATIC=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STACK=1 STATIC=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STACK=1 STATIC=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STATIC=1 STACK=1 STATIC=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STACK=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STACK=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STATIC=1 STACK=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STATIC=1 STACK=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STATIC=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STATIC=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-5
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-5
  - env:
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STATIC=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STATIC=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STACK=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STACK=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STATIC=1 STACK=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STATIC=1 STACK=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STATIC=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STATIC=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STATIC=1 STATIC=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STATIC=1 STATIC=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STACK=1 STATIC=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STACK=1 STATIC=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STATIC=1 STACK=1 STATIC=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STACK=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STACK=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STATIC=1 STACK=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STATIC=1 STACK=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STATIC=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STATIC=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: gcc-6
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - gcc-6
  - env:
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STATIC=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STATIC=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STACK=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STACK=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STATIC=1 STACK=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STATIC=1 STACK=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STATIC=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STATIC=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STATIC=1 STATIC=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STATIC=1 STATIC=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STACK=1 STATIC=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STACK=1 STATIC=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STATIC=1 STACK=1 STATIC=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STATIC=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STATIC=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STACK=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STACK=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STATIC=1 STACK=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STATIC=1 STACK=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STATIC=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STATIC=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STATIC=1 STATIC=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STATIC=1 STATIC=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: linux
    compiler: clang
    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          - clang
  - env:
    os: osx
    compiler: gcc
  - env:
    os: osx
    compiler: clang
  - env: POLL=1
    os: osx
    compiler: gcc
  - env: POLL=1
    os: osx
    compiler: clang
  - env: STATIC=1
    os: osx
    compiler: gcc
  - env: STATIC=1
    os: osx
    compiler: clang
  - env: POLL=1 STATIC=1
    os: osx
    compiler: gcc
  - env: POLL=1 STATIC=1
    os: osx
    compiler: clang
  - env: STACK=1
    os: osx
    compiler: gcc
  - env: STACK=1
    os: osx
    compiler: clang
  - env: POLL=1 STACK=1
    os: osx
    compiler: gcc
  - env: POLL=1 STACK=1
    os: osx
    compiler: clang
  - env: STATIC=1 STACK=1
    os: osx
    compiler: gcc
  - env: STATIC=1 STACK=1
    os: osx
    compiler: clang
  - env: POLL=1 STATIC=1 STACK=1
    os: osx
    compiler: gcc
  - env: POLL=1 STATIC=1 STACK=1
    os: osx
    compiler: clang
  - env: STATIC=1
    os: osx
    compiler: gcc
  - env: STATIC=1
    os: osx
    compiler: clang
  - env: POLL=1 STATIC=1
    os: osx
    compiler: gcc
  - env: POLL=1 STATIC=1
    os: osx
    compiler: clang
  - env: STATIC=1 STATIC=1
    os: osx
    compiler: gcc
  - env: STATIC=1 STATIC=1
    os: osx
    compiler: clang
  - env: POLL=1 STATIC=1 STATIC=1
    os: osx
    compiler: gcc
  - env: POLL=1 STATIC=1 STATIC=1
    os: osx
    compiler: clang
  - env: STACK=1 STATIC=1
    os: osx
    compiler: gcc
  - env: STACK=1 STATIC=1
    os: osx
    compiler: clang
  - env: POLL=1 STACK=1 STATIC=1
    os: osx
    compiler: gcc
  - env: POLL=1 STACK=1 STATIC=1
    os: osx
    compiler: clang
  - env: STATIC=1 STACK=1 STATIC=1
    os: osx
    compiler: gcc
  - env: STATIC=1 STACK=1 STATIC=1
    os: osx
    compiler: clang
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1
    os: osx
    compiler: gcc
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1
    os: osx
    compiler: clang
  - env: OPT=-O3
    os: osx
    compiler: gcc
  - env: OPT=-O3
    os: osx
    compiler: clang
  - env: POLL=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: POLL=1 OPT=-O3
    os: osx
    compiler: clang
  - env: STATIC=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: STATIC=1 OPT=-O3
    os: osx
    compiler: clang
  - env: POLL=1 STATIC=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: POLL=1 STATIC=1 OPT=-O3
    os: osx
    compiler: clang
  - env: STACK=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: STACK=1 OPT=-O3
    os: osx
    compiler: clang
  - env: POLL=1 STACK=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: POLL=1 STACK=1 OPT=-O3
    os: osx
    compiler: clang
  - env: STATIC=1 STACK=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: STATIC=1 STACK=1 OPT=-O3
    os: osx
    compiler: clang
  - env: POLL=1 STATIC=1 STACK=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: POLL=1 STATIC=1 STACK=1 OPT=-O3
    os: osx
    compiler: clang
  - env: STATIC=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: STATIC=1 OPT=-O3
    os: osx
    compiler: clang
  - env: POLL=1 STATIC=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: POLL=1 STATIC=1 OPT=-O3
    os: osx
    compiler: clang
  - env: STATIC=1 STATIC=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: STATIC=1 STATIC=1 OPT=-O3
    os: osx
    compiler: clang
  - env: POLL=1 STATIC=1 STATIC=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: POLL=1 STATIC=1 STATIC=1 OPT=-O3
    os: osx
    compiler: clang
  - env: STACK=1 STATIC=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: STACK=1 STATIC=1 OPT=-O3
    os: osx
    compiler: clang
  - env: POLL=1 STACK=1 STATIC=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: POLL=1 STACK=1 STATIC=1 OPT=-O3
    os: osx
    compiler: clang
  - env: STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: osx
    compiler: clang
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: osx
    compiler: gcc
  - env: POLL=1 STATIC=1 STACK=1 STATIC=1 OPT=-O3
    os: osx
    compiler: clang

before_install:
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update      ; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]] && [[ $CC == "gcc-5" ]]; then brew install gcc5; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]] && [[ $CC == "gcc-6" ]]; then brew install gcc6; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]] && [[ $CC == "clang" ]]; then brew install llvm38; fi

install:
  - if [[ $CC == gcc* ]] && [[ "${STACK+1}" == "1" ]]; then CFLAGS="$CFLAGS -fstack-protector-all"; fi
  - if [[ $CC == clang* ]] && [[ "${STACK+1}" == "1" ]]; then CFLAGS="$CFLAGS -fstack-protector"; fi
  - ./autogen.sh && ./configure CFLAGS="$CFLAGS ${POLL+-DDILL_POLL} ${OPT}" ${STATIC+--disable-shared} ${DEBUG+--enable-debug} && make V=1

script:
  - make check

after_failure:
  - for f in tests/*.log; do echo; echo "${f}:"; cat $f; done;
  - cat test-suite.log

notifications:
  email: false
